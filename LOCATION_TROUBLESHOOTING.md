# 地理位置功能故障排除指南

## 錯誤：無法取得位置資訊

### 檢查步驟

1. **檢查 macOS 系統定位服務**
   - 打開「系統設定」>「隱私權與安全性」>「定位服務」
   - 確認「定位服務」已開啟
   - 確認您的瀏覽器（Chrome/Safari/Firefox）在列表中且已勾選

2. **檢查瀏覽器權限**
   - 在瀏覽器地址欄左側點擊鎖定圖示或網站圖示
   - 確認「位置」權限為「允許」
   - 如果顯示「封鎖」或「詢問」，請改為「允許」

3. **檢查網路連線**
   - 確認網路連線正常
   - 某些瀏覽器需要網路來獲取位置資訊

4. **嘗試其他瀏覽器**
   - 如果一個瀏覽器不行，試試其他瀏覽器（Chrome、Safari、Firefox）

5. **檢查控制台錯誤**
   - 按 F12 或 Cmd+Option+I 打開開發者工具
   - 查看 Console 標籤中的詳細錯誤訊息

### 替代方案

如果定位功能無法使用，可以使用「選擇地區」模式：
1. 點擊「選擇地區」選項
2. 選擇「縣市」和「行政區」
3. 系統會根據選擇的地區推薦餐廳

### 常見問題

**Q: 為什麼會出現 `kCLErrorLocationUnknown` 錯誤？**
A: 這通常是因為設備的定位服務未開啟，或瀏覽器沒有位置權限。

**Q: 在 localhost 可以使用定位功能嗎？**
A: 可以，localhost 和 127.0.0.1 被視為安全環境，可以使用地理位置 API。

**Q: 需要 HTTPS 嗎？**
A: 在生產環境中建議使用 HTTPS，但在 localhost 環境下不需要。
